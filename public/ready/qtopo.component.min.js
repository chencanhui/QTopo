!function(n){function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t={};return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=50)}([function(n,e){var t=[],o={defaultPosition:function(n,e){e.css({top:($(n).height()-$(e).height())/2,left:0})},initColorSelect:function(n){n.find("[name=color_palette]").each(function(){var n=$(this),e=n.closest(".input-group").find(".color-selected");n.colorPalette().on("selectColor",function(n){e.val(n.color)})})},initFormSubmit:function(n,e){n.submit(function(t){try{$.isFunction(e)&&e($(this).serializeJson())}catch(t){console.error("form trans json error : ",n,e,t)}return!1})},setFormInput:function(n,e){n.setForm(e)},initBase:function(n,e){function o(n,e,t){e.movement=!1,t.mousedown(function(n){e.movePageX=n.pageX-e.offset().left,e.movePageY=n.pageY-e.offset().top,e.movement=!0}),t.mouseup(function(n){e.movement=!1}),$(n).mousemove(function(n){e.movement&&e.css({left:n.pageX-e.movePageX,top:n.pageY-e.movePageY})})}e.hide();var i=e.find(".panel-heading");i.find(".close").click(function(n){e.trigger("window.close")}),o(n,e,i),t.push(e),e.on("window.open",function(){$.each(t,function(n,t){e!=t&&"none"!=t.css("display")&&t.trigger("window.close")})});var r=i.text().trim();e.close=function(n){try{e.trigger("window.close",n)}catch(n){console.error("window close error : "+r,n)}},e.open=function(n){try{e.trigger("window.open",n)}catch(n){console.error("window open error : "+r,n)}}},clearWin:function(n){for(var e=n.find("input"),t=0;t<e.length;t++)e.val("")},addScroll:function(n){$(n).niceScroll({cursorcolor:"#659ae6",cursoropacitymax:1,touchbehavior:!1,cursorwidth:"5px",cursorborderradius:"6px",autohidemode:!1,background:"#0e1c39",cursorborder:"1px solid #0e1c39"})},makeCenter:function(n,e,t){var o=e.height(),i=e.width();t&&($.isNumeric(t.height)&&(o=t.height),$.isNumeric(t.width)&&(i=t.width)),e.css({top:($(n).height()-o)/2,left:($(n).width()-i)/2})}};n.exports=o},,,,,function(n,e){function t(){"use strict";var n=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],e=function(n,e){n.addClass("bootstrap-colorpalette");var t=[];$.each(e,function(n,e){t.push("<div>"),$.each(e,function(n,e){var o=['<button type="button" class="btn-color" style="background-color:',e,'" data-value="',e,'" title="',e,'"></button>'].join("");t.push(o)}),t.push("</div>")}),n.html(t.join(""))},t=function(n){n.element.on("click",function(e){var t=$(e.target),o=t.closest(".btn-color");if(o[0]){var i=o.attr("data-value");n.value=i,n.element.trigger({type:"selectColor",color:i,element:n.element})}})},o=function(o,i){this.element=o,e(o,i&&i.colors||n),t(this)};$.fn.extend({colorPalette:function(n){return this.each(function(){var e=$(this),t=e.data("colorpalette");t||e.data("colorpalette",new o(e,n))}),this}})}$.fn.serializeJson=function(){var n={},e=this.serializeArray();return $(e).each(function(){n[this.name]?n[this.name]+=";"+this.value:n[this.name]=this.value}),n},$.fn.setForm=function(n){var e=this;$.each(n,function(n,t){var o=e.find("input[name="+n+"]");if("checkbox"==o.attr("type")){if(null!==t)for(var i=$("[name="+n+"]"),r=t.split(";"),a=0;a<i.length;a++)for(var l=0;l<r.length;l++)i[a].value==r[l]&&$(i[a]).attr("checked",!0)}else"radio"==o.attr("type")?o.each(function(){for(var e=$("[name="+n+"]"),o=0;o<e.length;o++)e[o].value==t&&e[o].click()}):"textarea"==o.attr("type")&&t?e.find("[name="+n+"]").html(t):t&&e.find("[name="+n+"]").val(t)})},t()},function(n,e,t){function o(n,e,t){var o=$(n).find(".qtopo-rightMenu");0==o.length&&(o=$("<div class='qtopo-rightMenu'></div>"),$(n).append(o));var a=new i(o);a.init(e),t||console.error("windows is not init ,menu options about windows may not work");var l=r(a,e,t.windows,t.tools);$.each(l.item,function(n,e){var t=e(a);t?a.addItem({name:t.name,click:t.click,filter:t.filter}):console.error(n+" invalid menu define")}),$.isArray(l.subMenu)&&$.each(l.subMenu,function(n,e){if(e){var t=a.addSubMenu({name:e.name,click:e.click,filter:e.filter});e.item&&$.each(e.item,function(n,o){var i=o(a);i?t.addItem({name:i.name,click:i.click,filter:i.filter}):console.error(n+" invalid menu define in subMenu "+e.name)})}else console.error("index: "+n+" is invalid subMenu define")})}t(35);var i=t(13),r=t(14);n.exports={init:o}},function(n,e,t){function o(n,e,t){var o=$(n).find(".qtopo-toolBar");0==o.length&&(o=$("<div class='qtopo-toolBar'></div>"),$(n).append(o)),r=$(r),a=$(a),o.append(r),o.append(a),o.find("[data-toggle*='tooltip']").tooltip(),o.find("[name=topo_mode]").click(function(n){var t=$(this).find("input").val();if(e.setMode(t),"normal"==t){var o=r.find(".mode-edit").offset().left+17-a.width()/2,i=r.offset().top+r.height()+2;a.css({left:o,top:i}),a.show()}else a.hide()}),r.find("button[name=center]").click(function(){e.goCenter()}),r.find("button[name=common]").click(function(){e.resize(1)}),r.find("button[name=zoom_checkbox]").click(function(){e.toggleZoom()}),r.find("button[name=eagle_eye]").click(function(){e.toggleEagleEye()}),r.find("button[name=export_image]").click(function(){e.getPicture()}),a.find("button[name=auto_layout]").click(function(){t.windows.autoLayout.open()});var l=i(r.find("select[name=search_mode]"),r.find("button[name=search]"),r.find("input[name=search_value]"));return l({type:"node",name:"节点",search:function(n){var t=e.find(n,"node");t.length>0&&e.moveToNode(t[0])}}),l}function i(n,e,t){return n.mode={},e.click(function(){if(n.val()){var e=n.mode[n.val()];$.isFunction(e)&&e(t.val())}}),function(e){n.mode[e.type]=e.search,n.append("<option value='"+e.type+"'>"+e.name||e.type+"</option>")}}t(36);var r=t(40),a=t(39);n.exports={init:o}},function(n,e,t){function o(n){var e=a(n.document,"qtopo-windows"),t=i(e,n.document,n.scene),o=r(e,t,n.document,n.scene);return{windows:o,tools:t}}function i(n,e,t){var o=a(n,"qtopo-windows-tools"),i=l.init(v),r=p.init(e),m=s.init(e),u=c.init(e),f=d.init(t);return o.append(i),o.append(r),o.append(m),o.append(u),o.append(f),{imageSelect:i,confirm:m,tips:f,progress:r,view:u}}function r(n,e,t,o){var i=a(n,"qtopo-windows-elements"),r=m.init(t,o,e.imageSelect);i.append(r);var l=u.init(t,o);i.append(l);var s=f.init(t,o);i.append(s);var c=g.init(t,o);return i.append(c),{node:{image:r,text:l},link:s,autoLayout:c}}function a(n,e){n=$(n);var t=n.find("."+e);return 0==t.length&&(t=$("<div class='"+e+"'></div>"),n.append(t)),t}t(37),t(38);var l=t(20),s=t(19),c=t(23),d=t(22),p=t(21),m=t(16),u=t(18),f=t(17),g=t(15);n.exports={init:o};var v=["img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png","img/mo/eNodeB.png","img/mo/eNodeB_1.png","img/mo/eNodeB_2.png","img/mo/eNodeB_3.png","img/mo/eNodeB_4.png"]},,,,,function(n,e){function t(n){var e=this;e.body=$("<ul class='dropdown-menu'></ul>"),n.append(this.body),e.item=[]}function o(n,e){$.each(n,function(n,t){$.isFunction(t.filter)&&"item"==t.type?t.filter(e)?t.body.show():t.body.hide():"subMenu"==t.type&&($.isFunction(t.filter)?t.filter(e)?(t.body.show(),o(t.subMenu.item,e)):t.body.hide():o(t.subMenu.item,e))})}n.exports=t,t.prototype.init=function(n){var e=this;e.scene=n,n.on("mouseup",function(t){2==t.button&&(e.body.css({left:t.pageX-20,top:t.pageY-20}).show(),e.x=t.x,e.y=t.y,t.target?e.target=t.target.qtopo:e.target=n,o(e.item,e.target))}),e.body.on("mouseleave mouseup click",function(n){n.stopPropagation(),e.body.hide()})},t.prototype.addItem=function(n){if(n){var e=$("<li><a>"+n.name+"</a></li>");n.click&&e.click(n.click),this.body.append(e),this.item.push({body:e,type:"item",name:n.name,filter:n.filter})}},t.prototype.addSubMenu=function(n){if(n){var e=$("<li class='subMenu'><a>"+n.name+"</a></li>");$.isFunction(n.click)&&e.click(n.click);var o=new t(e);return this.body.append(e),this.item.push({body:e,subMenu:o,type:"subMenu",name:n.name,filter:n.filter}),o}}},function(n,e){function t(n,e,t,o){function i(){t&&t.node&&t.node.image&&t.node.image.open({type:"edit",target:n.target})}function r(){t&&t.node&&t.node.image&&t.node.image.open({type:"create",position:[n.x,n.y]})}function a(){t&&t.node&&t.node.text&&t.node.text.open({type:"edit",target:n.target})}function l(){t&&t.node&&t.node.text&&t.node.text.open({type:"create",position:[n.x,n.y]})}function s(){t&&t.node&&t.node.image&&t.link.open({type:"edit",target:n.target})}var c={start:"",end:""},d=!1;return{item:{DEBUG:function(){return{name:"Debug",click:function(e){n.target&&console.info(n.target)}}},TEST:function(){return{name:"test",click:function(n){}}},EDIT:function(){return{name:"编辑",click:function(){switch(n.target.getType()){case QTopo.constant.NODE:switch(n.target.getUseType()){case QTopo.constant.node.IMAGE:i();break;case QTopo.constant.node.TEXT:a()}break;case QTopo.constant.LINK:s()}},filter:function(n){return n&&n.getType()!=QTopo.constant.SCENE&&n.getUseType()!=QTopo.constant.CASUAL}}},DELETE:function(){return{name:"删除",click:function(){o.confirm.open({title:"删除确认",content:"确认删除？",width:200,ok:function(){e.remove(n.target)},cancel:function(){console.info("cancel")}})},filter:function(n){return n.getType()!=QTopo.constant.SCENE}}},UPZINDEX:function(){return{name:"提升层级",click:function(){e.toggleZIndex(n.target)},filter:function(n){return n&&n.getType()!=QTopo.constant.SCENE&&n.getUseType()!=QTopo.constant.CASUAL}}},DOWNZINDEX:function(){return{name:"降低层级",click:function(){e.toggleZIndex(n.target,!0)},filter:function(n){return n&&n.getType()!=QTopo.constant.SCENE&&n.getUseType()!=QTopo.constant.CASUAL}}},LIGHTING:function(){return{name:"相关高亮",click:function(){e.toggleLight(n.target),d=!0},filter:function(n){return!d&&n&&n.getType()==QTopo.constant.NODE&&n.getUseType()!=QTopo.constant.CASUAL}}},NOTLIGHTING:function(){return{name:"取消高亮",click:function(){e.toggleLight(),d=!1},filter:function(n){return d}}},REMOVEFROMGROUP:function(){return{name:"移出分组",click:function(){n.target.parent.remove(n.target)},filter:function(n){return n.parent&&!0}}}},subMenu:[{name:"创建节点",item:{CREATE_IMAGE_NODE:function(){return{name:"图片节点",click:function(){r()}}},CREATE_TEXT_NODE:function(){return{name:"文字节点",click:function(){l()}}}},filter:function(n){return!n||n.getType()==QTopo.constant.SCENE}},{name:"创建链接",item:{SET_START:function(){return{name:"设为起点",click:function(){c.start=n.target,c&&c.start&&c.end&&(t.link.open({type:"create",path:c}),c={})}}},SET_END:function(){return{name:"设为终点",click:function(){c.end=n.target,c&&c.start&&c.end&&(t.link.open({type:"create",path:c}),c={})}}}},filter:function(n){return n&&(n.getType()==QTopo.constant.NODE||n.getType()==QTopo.constant.CONTAINER)&&n.getUseType()!=QTopo.constant.CASUAL}}]}}n.exports=t},function(n,e,t){function o(n,e,t){var o=$(a),s=i(o);return r(n,o,s),l.initBase(n,o),l.initFormSubmit(o.find("form"),function(n){e.autoLayout(n),console.info(n)}),o}function i(n){function e(n){switch(n){case"default":o.show(),t.show(),i.show(),r.hide(),a.hide();break;case"star":o.hide(),t.hide(),i.hide(),r.show(),a.show();break;case"round":t.hide(),i.hide(),r.hide(),a.hide(),o.hide()}}var t=n.find("[name=rowSpace]").closest(".form-group").hide(),o=n.find("[name=rows]").closest(".form-group").hide(),i=n.find("[name=columnSpace]").closest(".form-group").hide(),r=n.find("[name=radius]").closest(".form-group").hide(),a=n.find(".order").hide(),l=n.find("select[name=type]");return l.change(function(n){var t=$(this);e(t.val())}),e}function r(n,e,t){e.on("window.open",function(o){l.defaultPosition(n,e),e.find("select[name=type]").val("default"),t("default"),e.show()}),e.on("window.close",function(n){e.hide()})}var a=t(41),l=t(0);n.exports={init:o}},function(n,e,t){function o(n,e,t){var o=$(c);return i(n,o),d.initBase(n,o),d.initColorSelect(o),d.initFormSubmit(o.find("form"),function(n){a(o.todo,e,n),o.close()}),r(o,t),o}function i(n,e){e.on("window.open",function(t,o){if(o)switch(o.type){case"create":e.find(".panel-title").html("创建图片节点"),l(e,o.position);break;case"edit":e.find(".panel-title").html("修改图片节点"),s(e,o.target);break;default:console.error("invalid type of imageNodeWindow,open function need to config like { type:'create' or 'edit'}"),e.todo&&delete e.todo}else e.find(".panel-title").html("图片节点非正常打开"),console.error("invalid open imageNodeWindow");d.defaultPosition(n,e),e.show()}),e.on("window.close",function(n,t){e.hide()})}function r(n,e){var t=n.find(".image-select-group button"),o=n.find(".image-select-group input"),i=n.find(".image-select-group img");t.click(function(){e.open().then(function(n){o.val(n),o.attr("title",n),i.attr("src",n)})})}function a(n,e,t){if(n)switch(n.type){case"create":e.createNode({position:n.position,name:t.name,font:{size:t.fontSize},namePosition:t.namePosition,size:[t.size,t.size],image:t.image});break;case"edit":n.target&&n.target.getUseType()==QTopo.constant.node.IMAGE&&n.target.set({name:t.name,font:{size:t.fontSize},namePosition:t.namePosition,size:[t.size,t.size],image:t.image})}}function l(n,e){e||console.error("invalid open imageNodeWindow,need set position to create"),n.todo={type:"create",position:e},d.setFormInput(n.find("form"),p)}function s(n,e){e||console.error("invalid open imageNodeWindow,need set target to edit"),n.todo={type:"edit",target:e};var t=e.attr;d.setFormInput(n.find("form"),{position:t.position,name:t.name,fontSize:t.font.size,namePosition:t.namePosition,size:t.size[0],image:t.image}),n.find(".image-select-group img").attr("src",t.image)}var c=t(42),d=t(0);n.exports={init:o};var p={name:"",fontSize:14,namePosition:"bottom",size:70,image:""}},function(n,e,t){function o(n,e){var t=$(d);return i(n,t),p.initBase(n,t),r(t),p.initColorSelect(t),p.initFormSubmit(t.find("form"),function(n){a(t.todo,e,n),t.close()}),t}function i(n,e){e.on("window.open",function(t,o){if(o)switch(o.type){case"create":e.find(".panel-title").html("创建链接"),s(e,o.path);break;case"edit":e.find(".panel-title").html("修改链接"),c(e,o.target);break;default:console.error("invalid type of linkAttrWindow,open function need to config like { type:'create' or 'edit'}"),e.todo&&delete e.todo}else e.find(".panel-title").html("链接属性"),console.error("invalid open linkWindow");p.defaultPosition(n,e),e.show()}),e.on("window.close",function(n,t){e.hide()})}function r(n){var e=n.find("[name=curveOffset]").closest(".form-group").hide(),t=n.find("[name=direction]").closest(".form-group").hide();n.find("select[name=type]").change(function(n,o){var i=$(this);switch(o&&i.val(o),i.val()){case"direct":e.hide(),t.hide();break;case"fold":e.hide(),t.show();break;case"flexional":e.hide(),t.show();break;case"curve":e.show(),t.hide()}})}function a(n,e,t){if(n)switch(n.type){case"create":var o=l(t);t.type?o.type=t.type:o.type="direct",o.start=n.path.start,o.end=n.path.end,e.createLink(o);break;case"edit":n.target&&n.target.getType()==QTopo.constant.LINK&&n.target.getUseType()!=QTopo.constant.CASUAL&&n.target.set(l(t))}}function l(n){var e={arrow:{start:n.arrow_start,end:n.arrow_end},color:n.color,width:n.width,direction:n.direction,curveOffset:n.curveOffset,number:n.number,dashed:"true"==n.dashed?10:null};return"true"==n.arrow_start||"true"==n.arrow_end?e.arrow.size=10:e.arrow.size=0,e}function s(n,e){e&&e.start&&e.end||console.error("invalid open linkAttrWindow,need set path.start and path.end to create"),n.todo={type:"create",path:e},n.find("select[name=type]").attr("disabled",!1),p.setFormInput(n.find("form"),m)}function c(n,e){function t(n){var e="";switch(n.getUseType()){case QTopo.constant.link.DIRECT:e="direct";break;case QTopo.constant.link.CURVE:e="curve";break;case QTopo.constant.link.FLEXIONAL:e="flexional";break;case QTopo.constant.link.FOLD:e="fold"}return e}e||console.error("invalid open linkAttrWindow,need set target to edit"),n.todo={type:"edit",target:e};var o=n.find("select[name=type]"),i=e.attr;p.setFormInput(n.find("form"),{number:i.number,type:t(e),color:i.color,width:i.width,curveOffset:i.curveOffset,arrow_start:i.arrow.start+"",arrow_end:i.arrow.end+"",dashed:$.isNumeric(i.dashed).toString()}),o.change(i.direction),o.attr("disabled",!0)}var d=t(43),p=t(0);n.exports={init:o};var m={number:"1",type:"direct",color:"22,124,255",width:2,curveOffset:200,direction:"horizontal",arrow_start:"false",arrow_end:"false",dashed:"false"}},function(n,e,t){function o(n,e){var t=$(s);return i(n,t),c.initBase(n,t),c.initColorSelect(t),c.initFormSubmit(t.find("form"),function(n){r(t.todo,e,n),t.close()}),t}function i(n,e){e.on("window.open",function(t,o){if(o)switch(o.type){case"create":e.find(".panel-title").html("创建文本节点"),a(e,o.position);break;case"edit":e.find(".panel-title").html("修改文本节点"),l(e,o.target);break;default:console.error("invalid type of textNodeWindow,open function need to config like { type:'create' or 'edit'}"),e.todo&&delete e.todo}else e.find(".panel-title").html("文本节点非正常打开"),console.error("invalid open textNodeWindow");c.defaultPosition(n,e),e.show()}),e.on("window.close",function(n,t){e.hide()})}function r(n,e,t){if(n)switch(n.type){case"create":e.createNode({type:"text",position:n.position,text:t.text,font:{color:t.fontColor,size:t.fontSize}});break;case"edit":n.target&&n.target.getUseType()==QTopo.constant.node.TEXT&&n.target.set({text:t.text,font:{color:t.fontColor,size:t.fontSize}})}}function a(n,e){e||console.error("invalid open textNodeWindow,need set position to create"),n.todo={type:"create",position:e},c.setFormInput(n.find("form"),d)}function l(n,e){e||console.error("invalid open textNodeWindow,need set target to edit"),n.todo={type:"edit",target:e};var t=e.attr;c.setFormInput(n.find("form"),{text:t.text,fontColor:t.font.color,fontSize:t.font.size})}var s=t(44),c=t(0);n.exports={init:o};var d={text:"",fontColor:"255,255,255",fontSize:20}},function(n,e,t){function o(n){i=$(i);var e,t=i.find(".modal-body"),o=i.find(".modal-title"),a=i.find(".ok"),l=i.find(".cancel"),s=i.find(".modal-dialog");return i.open=function(a){i.removeAttr("style"),s.removeAttr("style"),a=a||{},a.content&&t.html(a.content),a.title&&o.html(a.title),e=$.Deferred(),$.isFunction(a.ok)&&e.done(a.ok),$.isFunction(a.cancel)&&e.fail(a.cancel),$.isNumeric(a.width)&&s.css({width:a.width+"px"}),$.isNumeric(a.height)&&s.css({width:a.height+"px"}),r.makeCenter(n,s),i.modal({keyboard:!1,backdrop:"static",show:!0})},a.click(function(){e&&"pending"==e.state()&&e.resolve(),i.modal("hide")}),l.click(function(){e&&"pending"==e.state()&&e.reject(),i.modal("hide")}),i}var i=t(45),r=t(0);n.exports={init:o}},function(n,e,t){function o(n){r=$(r);var e=r.find(".modal-body");$.isArray(n)&&$.each(n,function(n,t){e.append(i(t))}),r.on("hide.bs.modal",function(n){e.find(".active").removeClass("active")}),e.find(".img-btn").on("click",function(n){e.find(".active").removeClass("active"),$(this).addClass("active")}),a.addScroll(e);var t;return r.find("button").on("click",function(){t&&"pending"==t.state()&&t.resolve(e.find(".active img").attr("src")),r.modal("hide")}),r.open=function(){return t=$.Deferred(),r.modal("show"),t.promise()},r}function i(n){return $("<div class='img-btn'><img src="+n+"></div>")}var r=t(46),a=t(0);n.exports={init:o}},function(n,e,t){function o(n){i=$(i);var e=i.find(".progress-bar"),t=i.find(".modal-dialog");return i.open=function(o){if(o){var a=o.now,l=o.text,s=o.error,c=1e3;a>=0&&a<=100?(s?(e.removeClass("progress-bar-info").addClass("progress-bar-danger"),c=3e3):e.removeClass("progress-bar-danger").addClass("progress-bar-info"),e.css({width:a+"%"}),e.html(l),r.makeCenter(n,t,{height:30,width:600}),i.modal({keyboard:!1,backdrop:"static",show:!0}),100==a&&setTimeout(function(){i.modal("hide")},c)):i.modal("hide")}else i.modal("hide")},i}var i=t(47),r=t(0);n.exports={init:o}},function(n,e,t){function o(n){i=$(i),i.hide();var e=i.find(".panel-body"),t=!0;return i.open=function(o,r){function a(n,t,o){var r=t(n);e.html(r),i.css({left:o.pageX+20,top:o.pageY+20}).show()}t?$.isFunction(o)&&(n.on("mousemove",function(n,e){e?$.isFunction(r)?r(e)&&a(e,o,n):a(e,o,n):i.hide()}),t=!1):console.error("tips only config once")},i}var i=t(48);n.exports={init:o}},function(n,e,t){function o(n){i=$(i);var e=i.find(".modal-body"),t=i.find(".modal-title"),o=i.find(".ok"),a=i.find(".modal-dialog");return i.open=function(o){i.removeAttr("style"),a.removeAttr("style"),o=o||{},o.content&&e.html(o.content),o.title&&t.html(o.title),o.css&&a.css(css),r.makeCenter(n,a),i.modal("show")},o.click(function(){i.modal("hide")}),i}var i=t(49),r=t(0);n.exports={init:o}},,,,,,,,,,,,function(n,e){},function(n,e){},function(n,e){},function(n,e){},function(n,e){n.exports="<div class='panel panel-default t-children'>\r\n    <div class='panel-body'>\r\n        <div class='btn-group'>\r\n            <button name='auto_layout' type='button' class='btn btn-xs btn-primary' data-toggle='tooltip'\r\n                    title='自动布局'\r\n                    data-placement='bottom'><span class='glyphicon glyphicon-th'></span></button>\r\n            <button name='create_line' type='button' class='btn btn-xs btn-primary' data-toggle='tooltip'\r\n                    title='画线对象'\r\n                    data-placement='bottom'><span class='glyphicon glyphicon-pencil'></span></button>\r\n            <button name='edit_save' type='button' class='btn btn-xs btn-primary' data-toggle='tooltip' title='保存'\r\n                    data-placement='bottom'><span class='glyphicon glyphicon-floppy-saved'></span></button>\r\n        </div>\r\n    </div>\r\n</div>"},function(n,e){n.exports="<div class='panel panel-default t-body'>\r\n    <div class='panel-body'>\r\n        <div class='btn-group'>\r\n            <button name='return' type='button' class='btn btn-sm btn-primary' data-toggle='tooltip'\r\n                    title='返回' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-share-alt'></span>\r\n            </button>\r\n            <div class='btn-group' data-toggle='buttons'>\r\n                <label class='btn btn-sm btn-primary' name='topo_mode' data-toggle='tooltip' title='平移'\r\n                       data-placement='bottom'>\r\n                    <input type='radio' value='drag'>\r\n                    <span class='glyphicon glyphicon-log-out'></span>\r\n                </label>\r\n                <label class='btn btn-sm btn-primary ' name='topo_mode' data-toggle='tooltip' title='框选'\r\n                       data-placement='bottom'>\r\n                    <input type='radio' value='select'>\r\n                    <span class='glyphicon glyphicon-check'></span>\r\n                </label>\r\n                <label class='btn btn-sm btn-primary mode-edit' name='topo_mode' data-toggle='tooltip' title='编辑'\r\n                       data-placement='bottom'>\r\n                    <input type='radio' value='normal'><span class='glyphicon glyphicon-edit'></span>\r\n                </label>\r\n            </div>\r\n            <button name='center' type='button' class='btn btn-sm btn-primary' data-toggle='tooltip'\r\n                    title='居中缩放' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-screenshot'></span>\r\n            </button>\r\n            <button name='common' type='button' class='btn btn-sm btn-primary'\r\n                    data-toggle='tooltip'\r\n                    title='正常展示' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-fullscreen'></span>\r\n            </button>\r\n            <button name='zoom_checkbox' type='button' class='btn btn-sm btn-primary'\r\n                    data-toggle='button;tooltip'\r\n                    title='鼠标缩放' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-resize-small'></span>\r\n            </button>\r\n            <button name='export_image' type='button' class='btn btn-sm btn-primary' data-toggle='tooltip'\r\n                    title='导出PNG' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-picture'></span>\r\n            </button>\r\n            <button name='eagle_eye' type='button' class='btn btn-sm btn-primary'\r\n                    data-toggle='button;tooltip'\r\n                    title='鹰眼' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-eye-open'></span>\r\n            </button>\r\n            <select name='search_mode' class='form-control t-search-mode'>\r\n            </select>\r\n            <input name=\"search_value\" type='text' class='form-control t-search-input' placeholder='输入值格式key=value'>\r\n            <button name='search' class='btn btn-primary t-search-btn' type='button' data-toggle='tooltip' title='搜索' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-search'></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"},function(n,e){n.exports='<div class="panel panel-primary auto-layout">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">自动布局</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    布局方式\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="type" class="form-control w-width">\r\n                        <option value="default">自定义</option>\r\n                        <!--<option value="star">群星</option>-->\r\n                        <option value="round">环形</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">每行个数</label>\r\n                <div class=" w-width">\r\n                    <input name="rows" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">行间距</label>\r\n                <div class=" w-width">\r\n                    <input name="rowSpace" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class=\'form-group\'>\r\n                <label class=\'w-label\'>列间距</label>\r\n                <div class=\'w-width\'>\r\n                    <input name="columnSpace" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class=\'form-group\'>\r\n                <label class=\'w-label\'>最小半径</label>\r\n                <div class=\'w-width\'>\r\n                    <input name="radius" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class="form-group order">\r\n                <label class="w-label">\r\n                    排序\r\n                </label>\r\n                <div class=" w-width">\r\n                    <div class="checkbox-wrap">\r\n                        <input type="radio" name="order" value="asc">\r\n                        <div>升序</div>\r\n                    </div>\r\n                    <div class="checkbox-wrap">\r\n                        <input type="radio" name="order" value="des">\r\n                        <div>降序</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">启用</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'},function(n,e){n.exports='<div class="panel panel-primary image-node">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">图片节点</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">名称</label>\r\n                <div class=" w-width">\r\n                    <textarea class="form-control" rows="2" name="name" placeholder="节点名"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">字体大小</label>\r\n                <div class=" w-width">\r\n                    <input name="fontSize" type="number" class="form-control" placeholder="名称字体大小">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    名称位置\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="namePosition" class="form-control w-width">\r\n                        <option value="top">上</option>\r\n                        <option value="bottom">下</option>\r\n                        <option value="left">左</option>\r\n                        <option value="right">右</option>\r\n                        <option value="center">中</option>\r\n                        <option value="hide">隐藏</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">大小</label>\r\n                <div class=" w-width">\r\n                    <input name="size" type="number" class="form-control w-width" placeholder="节点宽高">\r\n                </div>\r\n            </div>\r\n            <div class=\'form-group image-select-group\'>\r\n                <label class=\'w-label\'>图标<img src=\'\'></label>\r\n                <div class=\'w-width\'>\r\n                    <input name="image" class="form-control" value="" title="" readonly="true" required="true">\r\n                    <button class="btn btn-default" type="button" data-toggle="dropdown"><span class=\'glyphicon glyphicon-search\'></span></button>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">确认</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n';
},function(n,e){n.exports='<div class="panel panel-primary links-attr">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">链接属性</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">数目</label>\r\n                <div class=" w-width">\r\n                    <input name="number" type="number" class="form-control" placeholder="线包含的个数">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    类型\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="type" class="form-control w-width">\r\n                        <option value="direct">直线</option>\r\n                        <option value="fold">折线</option>\r\n                        <option value="flexional">二次折线</option>\r\n                        <option value="curve">弧线</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">线条颜色</label>\r\n                <div class="input-group w-width">\r\n                    <input type="text" name="color" class="form-control color-selected" readonly="true">\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default select-color-btn" type="button" data-toggle="dropdown"><span class=\'glyphicon glyphicon-search\'></span></button>\r\n                        <ul class="dropdown-menu select-color">\r\n                            <li>\r\n                                <div name="color_palette"></div>\r\n                            </li>\r\n                        </ul>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">线条宽度</label>\r\n                <div class=" w-width">\r\n                    <input name="width" type="number" class="form-control" placeholder="线条宽度">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">曲线偏移量</label>\r\n                <div class=" w-width">\r\n                    <input name="curveOffset" type="number" class="form-control" placeholder="曲线偏移量">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    折线方向\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="direction" class="form-control w-width">\r\n                        <option value=\'horizontal\'>水平</option>\r\n                        <option value=\'vertical\'>垂直</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    启用属性\r\n                </label>\r\n                <div class=" w-width">\r\n                    <div class="checkbox-wrap">\r\n                        <input type="checkbox" name="arrow_start" value="true">\r\n                        <div>始箭头</div>\r\n                    </div>\r\n                    <div class="checkbox-wrap">\r\n                        <input type="checkbox" name="arrow_end" value="true">\r\n                        <div>终箭头</div>\r\n                    </div>\r\n                    <div class="checkbox-wrap">\r\n                        <input type="checkbox" name="dashed" value="true">\r\n                        <div>虚线</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">确认</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'},function(n,e){n.exports='<div class="panel panel-primary text-node">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">文本节点</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">文本内容</label>\r\n                <div class=" w-width">\r\n                    <textarea class="form-control" rows="2" name="text" required="true" placeholder="内容不能为空"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">字体大小</label>\r\n                <div class=" w-width">\r\n                    <input name="fontSize" type="number" class="form-control" placeholder="名称字体大小">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">字体颜色</label>\r\n                <div class="input-group w-width">\r\n                    <input type="text" name="fontColor" class="form-control color-selected" readonly="true">\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default select-color-btn" type="button" data-toggle="dropdown"><span class=\'glyphicon glyphicon-search\'></span></button>\r\n                        <ul class="dropdown-menu select-color">\r\n                            <li>\r\n                                <div name="color_palette"></div>\r\n                            </li>\r\n                        </ul>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">确认</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'},function(n,e){n.exports='<div class="modal fade tools-confirm">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <h4 class="modal-title">提示框</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="ok btn btn-default">确定</button>\r\n                <button type="button" class="cancel btn btn-default">关闭</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(n,e){n.exports='<div class="modal fade image-select" tabindex="-1" role="dialog"\r\n     aria-labelledby="myModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close"\r\n                        data-dismiss="modal" aria-hidden="true">\r\n                    &times;\r\n                </button>\r\n                <h4 class="modal-title">\r\n                    选择图形\r\n                </h4>\r\n            </div>\r\n            <div class="modal-body">\r\n\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary">\r\n                    确定\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <!-- /.modal-content -->\r\n    </div>\r\n</div>'},function(n,e){n.exports='<div class="modal tools-progress">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="progress">\r\n                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" style="width: 10%">\r\n                    10%\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(n,e){n.exports='<div class="panel panel-default tools-tips">\r\n    <div class="panel-body"></div>\r\n</div>'},function(n,e){n.exports='<div class="modal fade tools-view">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <h4 class="modal-title">提示框</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-default ok">确定</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(n,e,t){function o(n){var e=a.init(n);i.init(n.document,n.scene,e);var t=r.init(n.document,n.scene,e);return n.component={tools:e.tools,addSearch:t},n.component}t(5);var i=t(6),r=t(7),a=t(8);$(document).ready(function(){QTopo&&(QTopo.component=o)})}]);