!function(n){function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=50)}([function(n,t){var e=[],o={defaultPosition:function(n,t){t.css({top:($(n).height()-$(t).height())/2,left:0})},initColorSelect:function(n){n.find("[name=color_palette]").each(function(){var n=$(this),t=n.closest(".input-group").find(".color-selected");n.colorPalette().on("selectColor",function(n){t.val(n.color)})})},initFormSubmit:function(n,t){n.submit(function(e){try{$.isFunction(t)&&t($(this).serializeJson())}catch(e){console.error("form trans json error : ",n,t,e)}return!1})},setFormInput:function(n,t){n.setForm(t)},initBase:function(n,t){function o(n,t,e){t.movement=!1,e.mousedown(function(n){t.movePageX=n.pageX-t.offset().left,t.movePageY=n.pageY-t.offset().top,t.movement=!0}),e.mouseup(function(n){t.movement=!1}),$(n).mousemove(function(n){t.movement&&t.css({left:n.pageX-t.movePageX,top:n.pageY-t.movePageY})})}t.hide();var i=t.find(".panel-heading");i.find(".close").click(function(n){t.trigger("window.close")}),o(n,t,i),e.push(t),t.on("window.open",function(){$.each(e,function(n,e){t!=e&&"none"!=e.css("display")&&e.trigger("window.close")})});var r=i.text().trim();t.close=function(n){try{t.trigger("window.close",n)}catch(n){console.error("window close error : "+r,n)}},t.open=function(n){try{t.trigger("window.open",n)}catch(n){console.error("window open error : "+r,n)}}},addScroll:function(n){$(n).niceScroll({cursorcolor:"#659ae6",cursoropacitymax:1,touchbehavior:!1,cursorwidth:"5px",cursorborderradius:"6px",autohidemode:!1,background:"#0e1c39",cursorborder:"1px solid #0e1c39"})},makeCenter:function(n,t,e){var o=t.height()||300,i=t.width();e&&($.isNumeric(e.height)&&(o=e.height),$.isNumeric(e.width)&&(i=e.width)),t.css({top:($(n).height()-o)/2,left:($(n).width()-i)/2})}};n.exports=o},,,,,function(n,t){function e(){"use strict";var n=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],t=function(n,t){n.addClass("bootstrap-colorpalette");var e=[];$.each(t,function(n,t){e.push("<div>"),$.each(t,function(n,t){var o=['<button type="button" class="btn-color" style="background-color:',t,'" data-value="',t,'" title="',t,'"></button>'].join("");e.push(o)}),e.push("</div>")}),n.html(e.join(""))},e=function(n){n.element.on("click",function(t){var e=$(t.target),o=e.closest(".btn-color");if(o[0]){var i=o.attr("data-value");n.value=i,n.element.trigger({type:"selectColor",color:i,element:n.element})}})},o=function(o,i){this.element=o,t(o,i&&i.colors||n),e(this)};$.fn.extend({colorPalette:function(n){return this.each(function(){var t=$(this),e=t.data("colorpalette");e||t.data("colorpalette",new o(t,n))}),this}})}$.fn.serializeJson=function(){var n={},t=this.serializeArray();return $(t).each(function(){n[this.name]?n[this.name]+=";"+this.value:n[this.name]=this.value}),n},$.fn.setForm=function(n){var t=this;$.each(n,function(n,e){var o=t.find("input[name="+n+"]");if("checkbox"==o.attr("type")){if(null!==e)for(var i=$("[name="+n+"]"),r=e.split(";"),a=0;a<i.length;a++)for(var l=0;l<r.length;l++)i[a].value==r[l]&&$(i[a]).attr("checked",!0)}else"radio"==o.attr("type")?o.each(function(){for(var t=$("[name="+n+"]"),o=0;o<t.length;o++)t[o].value==e&&t[o].click()}):"textarea"==o.attr("type")&&e?t.find("[name="+n+"]").html(e):e&&t.find("[name="+n+"]").val(e)})},e()},function(n,t,e){function o(n,t,e){var o=$(n).find(".qtopo-rightMenu");0==o.length&&(o=$("<div class='qtopo-rightMenu'></div>"),$(n).append(o));var r=new a(o);r.init(t),e||console.error("windows is not init ,menu options about windows may not work");var s=i(t,r,e.windows,e.tools);return s(l),s}function i(n,t,e,o){return function(i){if($.isFunction(i)){var a=i(n,t,e,o);r(t,a)}}}function r(n,t){$.each(t.item,function(t,e){e?n.addItem({name:e.name,click:e.click,filter:e.filter}):console.error(t+" invalid menu define")}),$.isArray(t.subMenu)&&$.each(t.subMenu,function(t,e){if(e){var o=n.addSubMenu({name:e.name,click:e.click,filter:e.filter});e.item&&$.each(e.item,function(n,t){t?o.addItem({name:t.name,click:t.click,filter:t.filter}):console.error(n+" invalid menu define in subMenu "+e.name)})}else console.error("index: "+t+" is invalid subMenu define")})}e(35);var a=e(13),l=e(14);n.exports={init:o}},function(n,t,e){function o(n,t,e){var o=$(n).find(".qtopo-toolBar");0==o.length&&(o=$("<div class='qtopo-toolBar'></div>"),$(n).append(o)),r=$(r),a=$(a),o.append(r),o.append(a),o.find("[data-toggle*='tooltip']").tooltip(),o.find("[name=topo_mode]").click(function(n){var e=$(this).find("input").val();if(t.setMode(e),"normal"==e){var o=r.find(".mode-edit").offset().left+17-a.width()/2,i=r.offset().top+r.height()+2;a.css({left:o,top:i}),a.show()}else a.hide()}),r.find("button[name=center]").click(function(){t.goCenter()}),r.find("button[name=common]").click(function(){t.resize(1)}),r.find("button[name=zoom_checkbox]").click(function(){t.toggleZoom()}),r.find("button[name=eagle_eye]").click(function(){t.toggleEagleEye()}),r.find("button[name=export_image]").click(function(){t.getPicture()}),a.find("button[name=auto_layout]").click(function(){e.windows.autoLayout.open()});var l=i(r.find("select[name=search_mode]"),r.find("button[name=search]"),r.find("input[name=search_value]"),r.find(".clear-input"));return l({type:"node",name:"节点",search:function(n){var e=t.find(n,"node");e.length>0&&t.moveToNode(e[0])}}),l}function i(n,t,e,o){function i(){if(n.val()){var t=n.mode[n.val()];$.isFunction(t)&&t(e.val())}}return n.mode={},o.hide(),o.click(function(){e.val(""),o.hide()}),e.keydown(function(n){13==n.keyCode&&i(),o.show()}),t.click(function(){i()}),function(t){n.mode[t.type]=t.search,n.append("<option value='"+t.type+"'>"+t.name||t.type+"</option>")}}e(36);var r=e(40),a=e(39);n.exports={init:o}},function(n,t,e){function o(n){var t=a(n.document,"qtopo-windows"),e=i(t,n.document,n.scene),o=r(t,e,n.document,n.scene);return{windows:o,tools:e}}function i(n,t,e){var o=a(n,"qtopo-windows-tools"),i=s.init(),r=u.init(t),l=c.init(t),f=d.init(t),m=p.init(e);return o.append(i.win),o.append(r),o.append(l),o.append(f),o.append(m),{imageSelect:i.win,setImageSelect:i.setImage,getImageSelect:i.getImage,confirm:l,tips:m,progress:r,view:f}}function r(n,t,e,o){var i=a(n,"qtopo-windows-elements"),r=f.init(e,o,t.imageSelect);i.append(r);var l=m.init(e,o);i.append(l);var s=v.init(e,o);i.append(s);var c=b.init(e,o);return i.append(c),{node:{image:r,text:l},link:s,autoLayout:c}}function a(n,t){n=$(n);var e=n.find("."+t);return 0==e.length&&(e=$("<div class='"+t+"'></div>"),n.append(e)),e}function l(n){}e(37),e(38);var s=e(20),c=e(19),d=e(23),p=e(22),u=e(21),f=e(16),m=e(18),v=e(17),b=e(15);n.exports={init:o,set:l}},,,,,function(n,t){function e(n){var t=this;t.body=$("<ul class='dropdown-menu'></ul>"),n.append(this.body),t.item=[]}function o(n,t){$.each(n,function(n,e){$.isFunction(e.filter)&&"item"==e.type?e.filter(t)?e.body.show():e.body.hide():"subMenu"==e.type&&($.isFunction(e.filter)?e.filter(t)?(e.body.show(),o(e.subMenu.item,t)):e.body.hide():o(e.subMenu.item,t))})}n.exports=e,e.prototype.init=function(n){var t=this;t.scene=n,n.on("mouseup",function(e){2==e.button&&(t.body.css({left:e.pageX-20,top:e.pageY-20}).show(),t.x=e.x,t.y=e.y,e.target?t.target=e.target.qtopo:t.target=n,o(t.item,t.target))}),t.body.on("mouseleave mouseup click",function(n){n.stopPropagation(),t.body.hide()})},e.prototype.addItem=function(n){if(n){var t=$("<li><a>"+n.name+"</a></li>");n.click&&t.click(n.click),this.body.append(t),this.item.push({body:t,type:"item",name:n.name,filter:n.filter})}},e.prototype.addSubMenu=function(n){if(n){var t=$("<li class='subMenu'><a>"+n.name+"</a></li>");$.isFunction(n.click)&&t.click(n.click);var o=new e(t);return this.body.append(t),this.item.push({body:t,subMenu:o,type:"subMenu",name:n.name,filter:n.filter}),o}}},function(n,t){function e(n,t,e,o){function i(){e&&e.node&&e.node.image&&e.node.image.open({type:"edit",target:t.target})}function r(){e&&e.node&&e.node.image&&e.node.image.open({type:"create",position:[t.x,t.y]})}function a(){e&&e.node&&e.node.text&&e.node.text.open({type:"edit",target:t.target})}function l(){e&&e.node&&e.node.text&&e.node.text.open({type:"create",position:[t.x,t.y]})}function s(){e&&e.node&&e.node.image&&e.link.open({type:"edit",target:t.target})}function c(){if(p&&p.start&&p.end){var t=n.linksBetween(p.start,p.end);t.length>0?t[0].set({number:t[0].attr.number+1}):e.link.open({type:"create",path:p}),p={}}}var d=!1,p={start:"",end:""};return{item:{DEBUG:{name:"Debug",click:function(e){if(t.target){var o;switch(t.target.getType()){case QTopo.constant.NODE:o=n.children.node.indexOf(t.target);break;case QTopo.constant.CONTAINER:o=n.children.container.indexOf(t.target);break;case QTopo.constant.LINK:o=n.children.link.indexOf(t.target)}console.info(o,t.target)}}},TEST:{name:"test",click:function(n){}},EDIT:{name:"编辑",click:function(){switch(t.target.getType()){case QTopo.constant.NODE:switch(t.target.getUseType()){case QTopo.constant.node.IMAGE:i();break;case QTopo.constant.node.TEXT:a()}break;case QTopo.constant.LINK:s()}},filter:function(n){return n&&n.getType()!=QTopo.constant.SCENE&&n.getUseType()!=QTopo.constant.CASUAL}},DELETE:{name:"删除",click:function(){o.confirm.open({title:"删除确认",content:"确认删除？",width:200,ok:function(){n.remove(t.target)},cancel:function(){console.info("cancel")}})},filter:function(n){return n.getType()!=QTopo.constant.SCENE&&(n.getUseType()!=QTopo.constant.CASUAL||n.getType()==QTopo.constant.NODE)}},UPZINDEX:{name:"提升层级",click:function(){n.toggleZIndex(t.target)},filter:function(n){return n&&n.getType()!=QTopo.constant.SCENE&&n.getUseType()!=QTopo.constant.CASUAL}},DOWNZINDEX:{name:"降低层级",click:function(){n.toggleZIndex(t.target,!0)},filter:function(n){return n&&n.getType()!=QTopo.constant.SCENE&&n.getUseType()!=QTopo.constant.CASUAL}},LIGHTING:{name:"相关高亮",click:function(){n.toggleLight(t.target),d=!0},filter:function(n){return!d&&n&&n.getType()==QTopo.constant.NODE&&n.getUseType()!=QTopo.constant.CASUAL}},NOTLIGHTING:{name:"取消高亮",click:function(){n.toggleLight(),d=!1},filter:function(n){return d}},REMOVEFROMGROUP:{name:"移出分组",click:function(){t.target.parent.remove(t.target)},filter:function(n){return n&&n.getUseType()!=QTopo.constant.CASUAL&&n.parent}}},subMenu:[{name:"创建节点",item:{CREATE_IMAGE_NODE:{name:"图片节点",click:function(){r()}},CREATE_TEXT_NODE:{name:"文字节点",click:function(){l()}}},filter:function(n){return!n||n.getType()==QTopo.constant.SCENE}},{name:"添加链路",item:{SET_START:{name:"设为起点",click:function(){p.start=t.target,c()}},SET_END:{name:"设为终点",click:function(){p.end=t.target,c()}}},filter:function(n){return n&&(n.getType()==QTopo.constant.NODE||n.getType()==QTopo.constant.CONTAINER)&&n.getUseType()!=QTopo.constant.CASUAL}}]}}n.exports=e},function(n,t,e){function o(n,t,e){var o=$(a),s=i(o);return r(n,o,s),l.initBase(n,o),l.initFormSubmit(o.find("form"),function(n){t.autoLayout(n),console.info(n)}),o}function i(n){function t(n){switch(n){case"default":o.show(),e.show(),i.show(),r.hide(),a.hide();break;case"star":o.hide(),e.hide(),i.hide(),r.show(),a.show();break;case"round":e.hide(),i.hide(),r.hide(),a.hide(),o.hide()}}var e=n.find("[name=rowSpace]").closest(".form-group").hide(),o=n.find("[name=rows]").closest(".form-group").hide(),i=n.find("[name=columnSpace]").closest(".form-group").hide(),r=n.find("[name=radius]").closest(".form-group").hide(),a=n.find(".order").hide(),l=n.find("select[name=type]");return l.change(function(n){var e=$(this);t(e.val())}),t}function r(n,t,e){t.on("window.open",function(o){l.defaultPosition(n,t),t.find("select[name=type]").val("default"),e("default"),t.show()}),t.on("window.close",function(n){t.hide()})}var a=e(41),l=e(0);n.exports={init:o}},function(n,t,e){function o(n,t,e){var o=$(c);return i(n,o,t),d.initBase(n,o),d.initColorSelect(o),d.initFormSubmit(o.find("form"),function(n){a(o.todo,t,n),o.close()}),o.find(".image-select-group button").click(function(){e.open().then(function(n){r(o,n)})}),o}function i(n,t,e){t.on("window.open",function(o,i){if(i)switch(i.type){case"create":t.find(".panel-title").html("创建图片节点"),l(t,i.position,e);break;case"edit":t.find(".panel-title").html("修改图片节点"),s(t,i.target,e);break;default:console.error("invalid type of imageNodeWindow,open function need to config like { type:'create' or 'edit'}"),t.todo&&delete t.todo}else t.find(".panel-title").html("图片节点非正常打开"),console.error("invalid open imageNodeWindow");d.defaultPosition(n,t),t.show()}),t.on("window.close",function(n,e){t.hide()})}function r(n,t){n.find(".image-select-group input").attr("title",t).val(t),n.find(".image-select-group img").attr("src",t)}function a(n,t,e){if(n)switch(n.type){case"create":t.createNode({type:QTopo.constant.node.IMAGE,position:n.position,name:e.name,font:{size:e.fontSize},namePosition:e.namePosition,size:[e.size,e.size],image:e.image});break;case"edit":n.target&&n.target.getUseType()==QTopo.constant.node.IMAGE&&n.target.set({name:e.name,font:{size:e.fontSize},namePosition:e.namePosition,size:[e.size,e.size],image:e.image})}}function l(n,t,e){t||console.error("invalid open imageNodeWindow,need set position to create"),n.todo={type:"create",position:t};var o=e.getDefault(QTopo.constant.node.IMAGE);d.setFormInput(n.find("form"),{name:o.name,fontSize:o.font.size,namePosition:o.namePosition,size:o.size[0],image:o.image}),r(n,o.image)}function s(n,t,e){t||console.error("invalid open imageNodeWindow,need set target to edit"),n.todo={type:"edit",target:t};var o=t.attr;d.setFormInput(n.find("form"),{position:o.position,name:o.name,fontSize:o.font.size,namePosition:o.namePosition,size:o.size[0],image:o.image}),n.find(".image-select-group img").attr("src",o.image)}var c=e(42),d=e(0);n.exports={init:o}},function(n,t,e){function o(n,t){var e=$(d);return i(n,e,t),p.initBase(n,e),r(e),p.initColorSelect(e),p.initFormSubmit(e.find("form"),function(n){a(e.todo,t,n),e.close()}),e}function i(n,t,e){t.on("window.open",function(o,i){if(i)switch(i.type){case"create":t.find(".panel-title").html("创建链接"),s(t,i.path,e);break;case"edit":t.find(".panel-title").html("修改链接"),c(t,i.target,e);break;default:console.error("invalid type of linkAttrWindow,open function need to config like { type:'create' or 'edit'}"),t.todo&&delete t.todo}else t.find(".panel-title").html("链接属性"),console.error("invalid open linkWindow");p.defaultPosition(n,t),t.show()}),t.on("window.close",function(n,e){t.hide()})}function r(n){var t=n.find("[name=curveOffset]").closest(".form-group").hide(),e=n.find("[name=direction]").closest(".form-group").hide();n.find("select[name=type]").change(function(n,o){var i=$(this);switch(o&&i.val(o),i.val()){case"direct":t.hide(),e.hide();break;case"fold":t.hide(),e.show();break;case"flexional":t.hide(),e.show();break;case"curve":t.show(),e.hide()}})}function a(n,t,e){function o(n){var t="";switch(n){case"direct":t=QTopo.constant.link.DIRECT;break;case"curve":t=QTopo.constant.link.CURVE;break;case"flexional":t=QTopo.constant.link.FLEXIONAL;break;case"fold":t=QTopo.constant.link.FOLD}return t}if(n)switch(n.type){case"create":var i=l(e);e.type?i.type=o(e.type):i.type="direct",i.start=n.path.start,i.end=n.path.end,t.createLink(i);break;case"edit":n.target&&n.target.getType()==QTopo.constant.LINK&&n.target.getUseType()!=QTopo.constant.CASUAL&&n.target.set(l(e))}}function l(n){var t={arrow:{start:n.arrow_start,end:n.arrow_end},color:n.color,width:n.width,direction:n.direction,curveOffset:n.curveOffset,number:n.number,dashed:"true"==n.dashed?10:null};return"true"==n.arrow_start||"true"==n.arrow_end?t.arrow.size=10:t.arrow.size=0,t}function s(n,t,e){t&&t.start&&t.end||console.error("invalid open linkAttrWindow,need set path.start and path.end to create"),n.todo={type:"create",path:t},n.find("select[name=type]").attr("disabled",!1);var o=e.getDefault(QTopo.constant.link.DIRECT);p.setFormInput(n.find("form"),{number:o.number,type:"direct",color:o.color,width:o.width,curveOffset:200,direction:"horizontal",arrow_start:o.arrow.start+"",arrow_end:o.arrow.end+"",dashed:$.isNumeric(o.dashed).toString()})}function c(n,t,e){function o(n){var t="";switch(n.getUseType()){case QTopo.constant.link.DIRECT:t="direct";break;case QTopo.constant.link.CURVE:t="curve";break;case QTopo.constant.link.FLEXIONAL:t="flexional";break;case QTopo.constant.link.FOLD:t="fold"}return t}t||console.error("invalid open linkAttrWindow,need set target to edit"),n.todo={type:"edit",target:t};var i=n.find("select[name=type]"),r=t.attr;p.setFormInput(n.find("form"),{number:r.number,type:o(t),color:r.color,width:r.width,curveOffset:r.curveOffset,arrow_start:r.arrow.start+"",arrow_end:r.arrow.end+"",dashed:$.isNumeric(r.dashed).toString()}),i.change(r.direction),i.attr("disabled",!0)}var d=e(43),p=e(0);n.exports={init:o}},function(n,t,e){function o(n,t){var e=$(s);return i(n,e,t),c.initBase(n,e),c.initColorSelect(e),c.initFormSubmit(e.find("form"),function(n){r(e.todo,t,n),e.close()}),e}function i(n,t,e){t.on("window.open",function(o,i){if(i)switch(i.type){case"create":t.find(".panel-title").html("创建文本节点"),a(t,i.position,e);break;case"edit":t.find(".panel-title").html("修改文本节点"),l(t,i.target,e);break;default:console.error("invalid type of textNodeWindow,open function need to config like { type:'create' or 'edit'}"),t.todo&&delete t.todo}else t.find(".panel-title").html("文本节点非正常打开"),console.error("invalid open textNodeWindow");c.defaultPosition(n,t),t.show()}),t.on("window.close",function(n,e){t.hide()})}function r(n,t,e){if(n)switch(n.type){case"create":t.createNode({type:QTopo.constant.node.TEXT,position:n.position,text:e.text,font:{color:e.fontColor,size:e.fontSize}});break;case"edit":n.target&&n.target.getUseType()==QTopo.constant.node.TEXT&&n.target.set({text:e.text,font:{color:e.fontColor,size:e.fontSize}})}}function a(n,t,e){t||console.error("invalid open textNodeWindow,need set position to create"),n.todo={type:"create",position:t};var o=e.getDefault(QTopo.constant.node.TEXT);c.setFormInput(n.find("form"),{text:o.text,fontColor:o.font.color,fontSize:o.font.size})}function l(n,t,e){t||console.error("invalid open textNodeWindow,need set target to edit"),n.todo={type:"edit",target:t};var o=t.attr;c.setFormInput(n.find("form"),{text:o.text,fontColor:o.font.color,fontSize:o.font.size})}var s=e(44),c=e(0);n.exports={init:o}},function(n,t,e){function o(n){i=$(i);var t,e=i.find(".modal-body"),o=i.find(".modal-title"),a=i.find(".ok"),l=i.find(".cancel"),s=i.find(".modal-dialog");return i.open=function(a){i.removeAttr("style"),s.removeAttr("style"),a=a||{},a.content&&e.html(a.content),a.title&&o.html(a.title),t=$.Deferred(),$.isFunction(a.ok)&&t.done(a.ok),$.isFunction(a.cancel)&&t.fail(a.cancel),$.isNumeric(a.width)&&s.css({width:a.width+"px"}),$.isNumeric(a.height)&&s.css({width:a.height+"px"}),r.makeCenter(n,s),i.modal({keyboard:!1,backdrop:"static",show:!0})},a.click(function(){t&&"pending"==t.state()&&t.resolve(),i.modal("hide")}),l.click(function(){t&&"pending"==t.state()&&t.reject(),i.modal("hide")}),i}var i=e(45),r=e(0);n.exports={init:o}},function(n,t,e){function o(n){function t(){return e}var e;a=$(a);var o=a.find(".modal-body"),r=i(o);r(n),a.on("hide.bs.modal",function(n){o.find(".active").removeClass("active")}),l.addScroll(o);var s;return a.find("button").on("click",function(){s&&"pending"==s.state()&&s.resolve(o.find(".active img").attr("src")),a.modal("hide")}),a.open=function(){return s=$.Deferred(),a.modal("show"),s.promise()},{win:a,setImage:r,getImage:t}}function i(n){return function(t){$.isArray(t)&&(n.html(""),temp_image=t,$.each(t,function(t,e){n.append(r(e))}),n.find(".img-btn").on("click",function(t){n.find(".active").removeClass("active"),$(this).addClass("active")}))}}function r(n){return $("<div class='img-btn'><img src="+n+"></div>")}var a=e(46),l=e(0);n.exports={init:o}},function(n,t,e){function o(n){i=$(i);var t=i.find(".progress-bar"),e=i.find(".modal-dialog");return i.open=function(o){if(o){var a=o.now,l=o.text,s=o.error,c=1e3;a>=0&&a<=100?(s?(t.removeClass("progress-bar-info").addClass("progress-bar-danger"),c=3e3):t.removeClass("progress-bar-danger").addClass("progress-bar-info"),t.css({width:a+"%"}),t.html(l),r.makeCenter(n,e,{height:30,width:600}),i.modal({keyboard:!1,backdrop:"static",show:!0}),100==a&&setTimeout(function(){i.modal("hide")},c)):i.modal("hide")}else i.modal("hide")},i}var i=e(47),r=e(0);n.exports={init:o}},function(n,t,e){function o(n){i=$(i),i.hide();var t=i.find(".panel-body"),e=!0;return i.open=function(o,r){function a(n,e,o){var r=e(n);t.html(r),i.css({left:o.pageX+20,top:o.pageY+20}).show()}e?$.isFunction(o)&&(n.on("mousemove",function(n,t){t?$.isFunction(r)?r(t)&&a(t,o,n):a(t,o,n):i.hide()}),e=!1):console.error("tips only config once")},i}var i=e(48);n.exports={init:o}},function(n,t,e){function o(n){i=$(i);var t=i.find(".modal-body"),e=i.find(".modal-title"),o=i.find(".ok"),a=i.find(".modal-dialog");return i.open=function(o){i.removeAttr("style"),a.removeAttr("style"),o=o||{},o.content&&t.html(o.content),o.title&&e.html(o.title),o.css&&a.css(css),r.makeCenter(n,a),i.modal("show")},o.click(function(){i.modal("hide")}),i}var i=e(49),r=e(0);n.exports={init:o}},,,,,,,,,,,,function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){n.exports="<div class='panel panel-default t-children'>\r\n    <div class='panel-body'>\r\n        <div class='btn-group'>\r\n            <button name='auto_layout' type='button' class='btn btn-xs btn-primary' data-toggle='tooltip'\r\n                    title='自动布局'\r\n                    data-placement='bottom'><span class='glyphicon glyphicon-th'></span></button>\r\n            <button name='create_line' type='button' class='btn btn-xs btn-primary' data-toggle='tooltip'\r\n                    title='画线对象'\r\n                    data-placement='bottom'><span class='glyphicon glyphicon-pencil'></span></button>\r\n            <button name='edit_save' type='button' class='btn btn-xs btn-primary' data-toggle='tooltip' title='保存'\r\n                    data-placement='bottom'><span class='glyphicon glyphicon-floppy-saved'></span></button>\r\n        </div>\r\n    </div>\r\n</div>"},function(n,t){n.exports="<div class='panel panel-default t-body'>\r\n    <div class='panel-body'>\r\n        <div class='btn-group'>\r\n            <button name='return' type='button' class='btn btn-sm btn-primary' data-toggle='tooltip'\r\n                    title='返回' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-share-alt'></span>\r\n            </button>\r\n            <div class='btn-group' data-toggle='buttons'>\r\n                <label class='btn btn-sm btn-primary' name='topo_mode' data-toggle='tooltip' title='平移'\r\n                       data-placement='bottom'>\r\n                    <input type='radio' value='drag'>\r\n                    <span class='glyphicon glyphicon-log-out'></span>\r\n                </label>\r\n                <label class='btn btn-sm btn-primary ' name='topo_mode' data-toggle='tooltip' title='框选'\r\n                       data-placement='bottom'>\r\n                    <input type='radio' value='select'>\r\n                    <span class='glyphicon glyphicon-check'></span>\r\n                </label>\r\n                <label class='btn btn-sm btn-primary mode-edit' name='topo_mode' data-toggle='tooltip' title='编辑'\r\n                       data-placement='bottom'>\r\n                    <input type='radio' value='normal'><span class='glyphicon glyphicon-edit'></span>\r\n                </label>\r\n            </div>\r\n            <button name='center' type='button' class='btn btn-sm btn-primary' data-toggle='tooltip'\r\n                    title='居中缩放' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-screenshot'></span>\r\n            </button>\r\n            <button name='common' type='button' class='btn btn-sm btn-primary'\r\n                    data-toggle='tooltip'\r\n                    title='正常展示' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-fullscreen'></span>\r\n            </button>\r\n            <button name='zoom_checkbox' type='button' class='btn btn-sm btn-primary'\r\n                    data-toggle='button;tooltip'\r\n                    title='鼠标缩放' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-resize-small'></span>\r\n            </button>\r\n            <button name='export_image' type='button' class='btn btn-sm btn-primary' data-toggle='tooltip'\r\n                    title='导出PNG' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-picture'></span>\r\n            </button>\r\n            <button name='eagle_eye' type='button' class='btn btn-sm btn-primary'\r\n                    data-toggle='button;tooltip'\r\n                    title='鹰眼' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-eye-open'></span>\r\n            </button>\r\n            <select name='search_mode' class='form-control t-search-mode'>\r\n            </select>\r\n            <div class=\"t-search-input\">\r\n                <input name=\"search_value\" type='text' class='form-control' placeholder='输入值格式key=value'>\r\n                <span class=\"clear-input glyphicon glyphicon-remove\"></span>\r\n            </div>\r\n            <button name='search' class='btn btn-primary t-search-btn' type='button' data-toggle='tooltip' title='搜索' data-placement='bottom'>\r\n                <span class='glyphicon glyphicon-search'></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"},function(n,t){n.exports='<div class="panel panel-primary auto-layout">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">自动布局</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    布局方式\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="type" class="form-control w-width">\r\n                        <option value="default">自定义</option>\r\n                        <!--<option value="star">群星</option>-->\r\n                        <option value="round">环形</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">每行个数</label>\r\n                <div class=" w-width">\r\n                    <input name="rows" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">行间距</label>\r\n                <div class=" w-width">\r\n                    <input name="rowSpace" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class=\'form-group\'>\r\n                <label class=\'w-label\'>列间距</label>\r\n                <div class=\'w-width\'>\r\n                    <input name="columnSpace" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class=\'form-group\'>\r\n                <label class=\'w-label\'>最小半径</label>\r\n                <div class=\'w-width\'>\r\n                    <input name="radius" type="number" class="form-control w-width" title="">\r\n                </div>\r\n            </div>\r\n            <div class="form-group order">\r\n                <label class="w-label">\r\n                    排序\r\n                </label>\r\n                <div class=" w-width">\r\n                    <div class="checkbox-wrap">\r\n                        <input type="radio" name="order" value="asc">\r\n                        <div>升序</div>\r\n                    </div>\r\n                    <div class="checkbox-wrap">\r\n                        <input type="radio" name="order" value="des">\r\n                        <div>降序</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">启用</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'},function(n,t){n.exports='<div class="panel panel-primary image-node">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">图片节点</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">名称</label>\r\n                <div class=" w-width">\r\n                    <textarea class="form-control" rows="2" name="name" placeholder="节点名"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">字体大小</label>\r\n                <div class=" w-width">\r\n                    <input name="fontSize" type="number" class="form-control" placeholder="名称字体大小">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    名称位置\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="namePosition" class="form-control w-width">\r\n                        <option value="top">上</option>\r\n                        <option value="bottom">下</option>\r\n                        <option value="left">左</option>\r\n                        <option value="right">右</option>\r\n                        <option value="center">中</option>\r\n                        <option value="hide">隐藏</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">大小</label>\r\n                <div class=" w-width">\r\n                    <input name="size" type="number" class="form-control w-width" placeholder="节点宽高">\r\n                </div>\r\n            </div>\r\n            <div class=\'form-group image-select-group\'>\r\n                <label class=\'w-label\'>图标<img src=\'\'></label>\r\n                <div class=\'w-width\'>\r\n                    <input name="image" class="form-control" value="" title="" readonly="true" required="true">\r\n                    <button class="btn btn-default" type="button" data-toggle="dropdown"><span class=\'glyphicon glyphicon-search\'></span></button>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">确认</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'},function(n,t){n.exports='<div class="panel panel-primary links-attr">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">链接属性</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">数目</label>\r\n                <div class=" w-width">\r\n                    <input name="number" type="number" class="form-control" placeholder="线包含的个数" readonly="true">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    类型\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="type" class="form-control w-width">\r\n                        <option value="direct">直线</option>\r\n                        <option value="fold">折线</option>\r\n                        <option value="flexional">二次折线</option>\r\n                        <option value="curve">弧线</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">线条颜色</label>\r\n                <div class="input-group w-width">\r\n                    <input type="text" name="color" class="form-control color-selected" readonly="true">\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default select-color-btn" type="button" data-toggle="dropdown"><span class=\'glyphicon glyphicon-search\'></span></button>\r\n                        <ul class="dropdown-menu select-color">\r\n                            <li>\r\n                                <div name="color_palette"></div>\r\n                            </li>\r\n                        </ul>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">线条宽度</label>\r\n                <div class=" w-width">\r\n                    <input name="width" type="number" class="form-control" placeholder="线条宽度">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">曲线偏移量</label>\r\n                <div class=" w-width">\r\n                    <input name="curveOffset" type="number" class="form-control" placeholder="曲线偏移量">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    折线方向\r\n                </label>\r\n                <div class=" w-width">\r\n                    <select name="direction" class="form-control w-width">\r\n                        <option value=\'horizontal\'>水平</option>\r\n                        <option value=\'vertical\'>垂直</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">\r\n                    启用属性\r\n                </label>\r\n                <div class=" w-width">\r\n                    <div class="checkbox-wrap">\r\n                        <input type="checkbox" name="arrow_start" value="true">\r\n                        <div>始箭头</div>\r\n                    </div>\r\n                    <div class="checkbox-wrap">\r\n                        <input type="checkbox" name="arrow_end" value="true">\r\n                        <div>终箭头</div>\r\n                    </div>\r\n                    <div class="checkbox-wrap">\r\n                        <input type="checkbox" name="dashed" value="true">\r\n                        <div>虚线</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">确认</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n';
},function(n,t){n.exports='<div class="panel panel-primary text-node">\r\n    <div class="panel-heading">\r\n        <span class="panel-title">文本节点</span>\r\n        <button type="button" class="close" aria-hidden="true">\r\n            &times;\r\n        </button>\r\n    </div>\r\n    <div class="panel-body">\r\n        <form>\r\n            <div class="form-group">\r\n                <label class="w-label">文本内容</label>\r\n                <div class=" w-width">\r\n                    <textarea class="form-control" rows="2" name="text" required="true" placeholder="内容不能为空"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">字体大小</label>\r\n                <div class=" w-width">\r\n                    <input name="fontSize" type="number" class="form-control" placeholder="名称字体大小">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="w-label">字体颜色</label>\r\n                <div class="input-group w-width">\r\n                    <input type="text" name="fontColor" class="form-control color-selected" readonly="true">\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default select-color-btn" type="button" data-toggle="dropdown"><span class=\'glyphicon glyphicon-search\'></span></button>\r\n                        <ul class="dropdown-menu select-color">\r\n                            <li>\r\n                                <div name="color_palette"></div>\r\n                            </li>\r\n                        </ul>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\'submit-group\'>\r\n                <button type="submit" class="btn btn-default">确认</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'},function(n,t){n.exports='<div class="modal fade tools-confirm">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <h4 class="modal-title">提示框</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="ok btn btn-default">确定</button>\r\n                <button type="button" class="cancel btn btn-default">关闭</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(n,t){n.exports='<div class="modal fade image-select" tabindex="-1" role="dialog"\r\n     aria-labelledby="myModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close"\r\n                        data-dismiss="modal" aria-hidden="true">\r\n                    &times;\r\n                </button>\r\n                <h4 class="modal-title">\r\n                    选择图形\r\n                </h4>\r\n            </div>\r\n            <div class="modal-body">\r\n\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary">\r\n                    确定\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <!-- /.modal-content -->\r\n    </div>\r\n</div>'},function(n,t){n.exports='<div class="modal tools-progress">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="progress">\r\n                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" style="width: 10%">\r\n                    10%\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(n,t){n.exports='<div class="panel panel-default tools-tips">\r\n    <div class="panel-body"></div>\r\n</div>'},function(n,t){n.exports='<div class="modal fade tools-view">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <h4 class="modal-title">提示框</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-default ok">确定</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(n,t,e){function o(n){var t=a.init(n),e=i.init(n.document,n.scene,t),o=r.init(n.document,n.scene,t);return n.component={tools:t.tools,addSearch:o,addRightMenu:e},n.component}e(5);var i=e(6),r=e(7),a=e(8);$(document).ready(function(){QTopo&&(QTopo.component=o)})}]);